/**! fjl-input-filter.min.js 1.1.14 | License: BSD-3-Clause | md5checksum: 38bc274e8c3b12c1fcd478855ed29f7b | Built-on: Thu Apr 12 2018 16:46:43 GMT-0400 (Eastern Daylight Time) **/var fjlInputFilter=function(e,r,t,n){"use strict";var a=console.error.bind(console),u=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),l=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,a=!1,u=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){a=!0,u=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw u}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e,r){return!e.required&&(!t.isset(r)||(t.isString(r)||t.isArray(r))&&!r.length)},s=function(e,r){var n=e.validators,a=e.filters,u=e.breakOnFailure,i=e.valueObscured,l=e.valueObscurator,s=e.name;if(o(e,r))return m({result:!0,name:s||"",rawValue:r,value:r,filteredValue:r,obscuredValue:r});var f=v(n,u,r),c=d(a,r),p=i&&l?l(c):c;return m(t.assign(f,{name:s||"",rawValue:r,value:c,filteredValue:c,obscuredValue:p}))},f=function(e,r){var t=e.validators,n=e.filters,a=e.breakOnFailure,u=e.valueObscured,i=e.valueObscurator;return o(e,r)?Promise.resolve(m({result:!0,name:e.name||"",rawValue:r,value:r,filteredValue:r,obscuredValue:r})):(t&&t.length?c(t,a,r,e):Promise.resolve({result:!0})).then(function(e){return p(n,r).then(function(t){return e.rawValue=r,e.value=e.filteredValue=t,e.obscuredValue=u&&i?i(t):t,m(e)})})},v=function(e,r,a){var u=!0,i=0,l=[];if(!e||!e.length)return n.toValidationResult({result:u});for(var o=e.length;i<o;i++){var s=e[i](a);if(!s.result&&(l.push(s.messages),u=!1,r))break}return n.toValidationResult({result:u,messages:t.concat(l)})},c=function(e,r,t){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;if(!e||!e.length)return Promise.resolve(n.toValidationResult({result:!0}));for(var i=e.length,l=[],o=0,s=!0;o<i;o++){var f=(0,e[o])(t);if(f instanceof Promise)l.push(f.catch(u));else if(l.push(f),!f.result&&(s=!1,r))break}return Promise.all(l).then(function(e){var r=e.filter(function(e){return!e.result}),t={result:s,messages:r.reduce(function(e,r){return e.concat(r.messages)},[])};return r.length&&(t.result=!1),n.toValidationResult(t)}).catch(u)},d=function(e,r){return e&&e.length?t.apply(t.compose,e)(r):r},p=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return d(e?e.map(function(e){return function(r){return r.then(e)}}):null,Promise.resolve(r).catch(t))},h=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=r.defineEnumProps$([[String,"name",""],[Boolean,"required",!1],[Array,"filters",[]],[Array,"validators",[]],[Boolean,"breakOnFailure",!1]],n.toValidationOptions(a));return t.isString(e)?u.name=e:e&&t.assign(u,e),u.required&&(u.validators=u.validators.slice(0),u.validators.push(n.notEmptyValidator(null))),u},m=function(e){var n=r.defineEnumProps$([[String,"name",""],[Boolean,"result",!1],[Array,"messages",[]]],{value:null,rawValue:null,obscuredValue:null,filteredValue:null});return t.assign(n,e)},g=function(){function e(r){u(this,e),h(r,this)}return i(e,[{key:"validate",value:function(e){return s(this,e)}},{key:"validateIO",value:function(e){return f(this,e)}}],[{key:"of",value:function(r){return new e(r)}}]),e}(),y=function(e,r){if(!e||!r)return O({result:!1});var n=t.partition(function(e){var r=l(e,2);r[0];return r[1].result},t.map(function(e){var t=l(e,2),n=t[0],a=t[1];return[n,s(a,r[n])]},t.toArrayMap(e))),a=l(n,2),u=a[0],i=a[1],o=t.foldl(function(e,r){var t=l(r,2),n=t[0],a=t[1];return e[n]=a.messages,e},{},i),f=t.fromArrayMap(u),v=t.fromArrayMap(i),c=!i.length;return O({result:c,validInputs:f,invalidInputs:v,validResults:u,invalidResults:i,messages:o})},b=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return e&&r?Promise.all(t.map(function(e){var t=l(e,2),n=t[0],a=t[1];return I(a,n,r[n])},t.toArrayMap(e))).then(function(e){var r=t.partition(function(e){var r=l(e,2);r[0];return r[1].result},e),n=l(r,2),a=n[0],u=n[1],i=t.foldl(function(e,r){var t=l(r,2),n=t[0],a=t[1];return e[n]=a.messages,e},{},u),o=t.fromArrayMap(a),s=t.fromArrayMap(u),f=!u.length;return O({result:f,validInputs:o,invalidInputs:s,validResults:a,invalidResults:u,messages:i})},n):Promise.resolve(O({result:!1}))},I=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;return f(e,t).then(function(e){return Promise.resolve([r,e])},n)},V=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.defineProperties(n,t.foldl(function(e,n){var a=l(n,2),u=a[0],i=a[1],o=h(t.assign(i,{name:u}));return o.breakOnFailure=r,e[u]={value:o,enumerable:!0},e},{},t.map(function(r){return[r,e[r]]},t.keys(e))))},O=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.defineEnumProps$([[Boolean,"result",!1],[Object,"messages",{}],[Object,"validInputs",{}],[Object,"invalidInputs",{}],[Array,"validResults",[]],[Array,"invalidResults",[]]],n);return e?t.assign(a,e):a},k=function(){function e(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(this,e),V(r,t,this)}return i(e,[{key:"validate",value:function(e){return y(this,e)}},{key:"validateIO",value:function(e){return b(this,e)}}],[{key:"of",value:function(r,t){return new e(r,t)}}]),e}();return e.noValidationRequired=o,e.validateInput=s,e.validateIOInput=f,e.runValidators=v,e.runIOValidators=c,e.runFilters=d,e.runIOFilters=p,e.toInput=h,e.toInputValidationResult=m,e.Input=g,e.validateInputFilter=y,e.validateIOInputFilter=b,e.validateIOInputWithName=I,e.toInputFilter=V,e.toInputFilterResult=O,e.InputFilter=k,e}({},fjlMutable,fjl,fjlValidator);