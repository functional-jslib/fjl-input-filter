/**! fjl-input-filter.min.js 1.0.0 | License: BSD-3-Clause | md5checksum: e4eff60c84afb838178508c824a4fb4a | Built-on: Sat Jan 20 2018 16:35:36 GMT-0500 (Eastern Standard Time) **/var fjlInputFilter=function(e,n,t,r){"use strict";var u=console.error.bind(console),a=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),l=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,u=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){u=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(u)throw a}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e,n){var r=e.validators,u=e.filters,a=e.breakOnFailure,i=e.valueObscured,l=e.valueObscurator,o=e.name,s=f(r,a,n),c=v(u,n),d=i&&l?l(c):c;return p(t.assign(s,{name:o||"",rawValue:n,value:c,filteredValue:c,obscuredValue:d}))},s=function(e,n){var t=e.validators,r=e.filters,u=e.breakOnFailure,a=e.valueObscured,i=e.valueObscurator;return(t&&t.length?c(t,u,n,e):Promise.resolve({result:!0})).then(function(e){return d(r,n).then(function(t){return e.rawValue=n,e.value=e.filteredValue=t,e.obscuredValue=a&&i?i(t):t,p(e)})})},f=function(e,n,u){var a=!0,i=0,l=[];if(!e||!e.length)return r.toValidationResult({result:a});for(var o=e.length;i<o;i++){var s=e[i](u);if(!s.result&&(l.push(s.messages),a=!1,n))break}return r.toValidationResult({result:a,messages:t.concat(l)})},c=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;if(!e||!e.length)return Promise.resolve(r.toValidationResult({result:!0}));for(var i=e.length,l=[],o=0,s=!0;o<i;o++){var f=(0,e[o])(t);if(f instanceof Promise)l.push(f.catch(a));else if(l.push(f),!f.result&&(s=!1,n))break}return Promise.all(l).then(function(e){var n=e.filter(function(e){return!e.result}),t={result:s,messages:n.reduce(function(e,n){return e=e.concat(n.messages)},[])};return n.length&&(t.result=!1),r.toValidationResult(t)}).catch(a)},v=function(e,n){return e&&e.length?t.apply(t.compose,e)(n):n},d=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return v(e?e.map(function(e){return function(n){return n.then(e)}}):null,Promise.resolve(n).catch(t))},h=function(e){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.defineEnumProps$([[String,"name",""],[Boolean,"required",!1],[Array,"filters",[]],[Array,"validators",[]],[Boolean,"breakOnFailure",!1]],r.toValidationOptions(u));return t.isString(e)?a.name=e:e&&t.assign(a,e),a.required&&a.validators.push(r.notEmptyValidator(null)),a},p=function(e){var r=n.defineEnumProps$([[String,"name",""],[Boolean,"result",!1],[Array,"messages",[]]],{value:null,rawValue:null,obscuredValue:null,filteredValue:null});return t.assign(r,e)},m=function(){function e(n){a(this,e),h(n,this)}return i(e,[{key:"validate",value:function(e){return o(this,e)}},{key:"validateIO",value:function(e){return s(this,e)}}],[{key:"of",value:function(n){return new e(n)}}]),e}(),g=function(e){return t.keys(e).map(function(n){return[n,e[n]]})},y=function(e){return t.foldl(function(e,n){var t=l(n,2),r=t[0],u=t[1];return e[r]=u,e},{},e)},b=function(e,n){if(!e||!n)return k({result:!1});var r=t.partition(function(e){var n=l(e,2);n[0];return n[1].result},t.map(function(e){var t=l(e,2),r=t[0],u=t[1];return[r,o(u,n[r])]},g(e))),u=l(r,2),a=u[0],i=u[1],s=t.foldl(function(e,n){var t=l(n,2),r=t[0],u=t[1];return e[r]=u.messages,e},{},i),f=y(a),c=y(i),v=!i.length;return k({result:v,validInputs:f,invalidInputs:c,validResults:a,invalidResults:i,messages:s})},I=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return e&&n?Promise.all(t.map(function(e){var t=l(e,2),r=t[0],u=t[1];return O(u,r,n[r])},g(e))).then(function(e){var n=t.partition(function(e){var n=l(e,2);n[0];return n[1].result},e),r=l(n,2),u=r[0],a=r[1],i=t.foldl(function(e,n){var t=l(n,2),r=t[0],u=t[1];return e[r]=u.messages,e},{},a),o=y(u),s=y(a),f=!a.length;return k({result:f,validInputs:o,invalidInputs:s,validResults:u,invalidResults:a,messages:i})},r):Promise.resolve(k({result:!1}))},O=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;return s(e,t).then(function(e){return Promise.resolve([n,e])},r)},V=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.defineProperties(r,t.foldl(function(e,r){var u=l(r,2),a=u[0],i=u[1],o=h(t.assign(i,{name:a}));return o.breakOnFailure=n,e[a]={value:o,enumerable:!0},e},{},t.map(function(n){return[n,e[n]]},t.keys(e))))},k=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=n.defineEnumProps$([[Boolean,"result",!1],[Object,"messages",{}],[Object,"validInputs",{}],[Object,"invalidInputs",{}],[Array,"validResults",[]],[Array,"invalidResults",[]]],r);return e?t.assign(u,e):u},P=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(this,e),V(n,t,this)}return i(e,[{key:"validate",value:function(e){return b(this,e)}},{key:"validateIO",value:function(e){return I(this,e)}}],[{key:"of",value:function(n,t){return new e(n,t)}}]),e}();return e.validateInput=o,e.validateIOInput=s,e.runValidators=f,e.runIOValidators=c,e.runFilters=v,e.runIOFilters=d,e.toInput=h,e.toInputValidationResult=p,e.Input=m,e.toArrayMap=g,e.fromArrayMap=y,e.validateInputFilter=b,e.validateIOInputFilter=I,e.validateIOInputWithName=O,e.toInputFilter=V,e.toInputFilterResult=k,e.InputFilter=P,e}({},fjlMutable,fjl,fjlValidator);